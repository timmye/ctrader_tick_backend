syntax = "proto2";
package protobuf;
option java_package = "com.xtrader.protocol.proto.common";

enum ProtoPayloadType {
    PROTO_MESSAGE = 50;
    PROTO_ERROR_RES = 51;
    PROTO_HEARTBEAT_EVENT = 52;
}

enum ProtoErrorCode {
    UNKNOWN_ERROR = 1;
    UNSUPPORTED_MESSAGE = 2;
    INVALID_REQUEST = 3;
    WRONG_PASSWORD = 4;
    TIMEOUT_ERROR = 5;
    ACCOUNT_NOT_AUTHORIZED = 6;
    CONNECTION_ERROR = 7;
    ASSET_NOT_FOUND = 8;
    ASSET_ALREADY_EXISTS = 9;
    SYMBOL_NOT_FOUND = 10;
    SYMBOL_ALREADY_EXISTS = 11;
    SYMBOL_HAS_CONNECTED_ASSETS = 12;
    REQUEST_FAILED = 13;
    SERVER_NOT_READY = 14;
    PRICE_STREAM_ALREADY_EXISTS = 15;
    PRICE_STREAM_NOT_FOUND = 16;
    NOT_AUTHENTICATED = 17;
    NOT_SUBSCRIBED_TO_SPOTS = 18;
    ALREADY_SUBSCRIBED_TO_SPOTS = 19;
    SYMBOL_CONVERSION_INFO_NOT_FOUND = 20;
    ACCOUNT_DISCONNECTED = 21;
}

message ProtoMessage {
    optional uint32 payloadType = 1;
    optional bytes payload = 2;
    optional string clientMsgId = 3;
}

message ProtoErrorRes {
    required string errorCode = 1;
    optional string description = 2;
    optional uint64 maintenanceEndTimestamp = 3;
}

message ProtoHeartbeatEvent {
    optional uint64 timestamp = 1;
}
